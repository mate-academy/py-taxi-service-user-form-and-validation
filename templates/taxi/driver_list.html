{% extends "base.html" %}
{% block content %}
  <h1>
    Driver List
    <a
        class="btn btn-success ml-lg-5"
        href="{% url 'taxi:driver-create' %}">
      Add driver
    </a>
  </h1>
  <br>
  {% if driver_list %}
    <table class="table">
      <tr>
        <th>ID</th>
        <th>Username</th>
        <th>First name</th>
        <th>Last name</th>
        <th>License number</th>
      </tr>
      {% for driver in driver_list %}
        <tr>
          <td>{{ driver.id }}</td>
          <td><a href="{{ driver.get_absolute_url }}">
            {{ driver.username }} {% if user == driver %} (Me){% endif %}
          </a></td>
          <td>{{ driver.first_name }}</td>
          <td>{{ driver.last_name }}</td>
          {% if driver.id == user.id %}
            <td>{{ driver.license_number }}
              <a class="btn btn-success ml-2"
                 href="{% url 'taxi:driver-update' user.id %}">
                Edit</a>
            </td>
          {% else %}
            <td>{{ driver.license_number }}</td>
          {% endif %}
        </tr>
      {% endfor %}
    </table>
  {% else %}
    <p>There are no drivers in the service.</p>
  {% endif %}
{% endblock %}
